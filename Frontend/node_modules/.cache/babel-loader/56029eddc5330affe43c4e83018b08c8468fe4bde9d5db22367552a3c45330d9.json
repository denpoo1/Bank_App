{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0418\\u043B\\u044C\\u044F\\\\Desktop\\\\Bank_App\\\\Frontend\\\\src\\\\Login\\\\RightSideLogin\\\\RightSideLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styles from './RightSideLogin.module.css';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RightSideLogin = () => {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const [isFormValid, setIsFormValid] = useState(false);\n  useEffect(() => {\n    // Check if both username and password are filled to enable the button\n    setIsFormValid(username.trim() !== '' && password.trim() !== '');\n  }, [username, password]);\n  const handleLogin = async () => {\n    try {\n      const response = await axios.post('http://localhost:8080/auth/signin', {\n        username,\n        password\n      });\n      const token = response.data.token;\n      console.log('Токен:', token);\n\n      // Save the token in cookies for 1 day\n      Cookies.set('token', token, {\n        expires: 1\n      });\n      setError(null);\n\n      // Redirect to the main page\n      navigate('/bank-page');\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        setError(\"Username is wrong\");\n      } else if (error.response && error.response.status === 403) {\n        setError(\"Password is wrong\");\n      } else {\n        setError(error);\n      }\n    }\n  };\n  const handleSignUp = () => {\n    // Redirect to the signup page\n    navigate('/sign-up');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.rightSide,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.rightSideLoginWrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.title,\n          children: \"Sign in with password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Username\",\n            type: \"text\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Password\",\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.formButton} ${isFormValid ? styles.formButtonActive : ''}`,\n          onClick: handleLogin,\n          disabled: !isFormValid,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), \"        \", error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.errorMessage,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(RightSideLogin, \"k4hU9wPnNvlTt2iuZGa8+XkWSMs=\", false, function () {\n  return [useNavigate];\n});\n_c = RightSideLogin;\nexport default RightSideLogin;\nvar _c;\n$RefreshReg$(_c, \"RightSideLogin\");","map":{"version":3,"names":["React","useState","useEffect","styles","axios","Cookies","useNavigate","jsxDEV","_jsxDEV","RightSideLogin","_s","navigate","username","setUsername","password","setPassword","error","setError","isFormValid","setIsFormValid","trim","handleLogin","response","post","token","data","console","log","set","expires","status","handleSignUp","className","rightSide","children","rightSideLoginWrapper","title","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","type","value","onChange","e","target","formButton","formButtonActive","onClick","disabled","errorMessage","_c","$RefreshReg$"],"sources":["C:/Users/Илья/Desktop/Bank_App/Frontend/src/Login/RightSideLogin/RightSideLogin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styles from './RightSideLogin.module.css';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst RightSideLogin = () => {\r\n  const navigate = useNavigate();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    // Check if both username and password are filled to enable the button\r\n    setIsFormValid(username.trim() !== '' && password.trim() !== '');\r\n  }, [username, password]);\r\n\r\n  const handleLogin = async () => {\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:8080/auth/signin', {\r\n        username,\r\n        password,\r\n      });\r\n\r\n      const token = response.data.token;\r\n      console.log('Токен:', token);\r\n\r\n      // Save the token in cookies for 1 day\r\n      Cookies.set('token', token, { expires: 1 });\r\n\r\n      setError(null);\r\n\r\n      // Redirect to the main page\r\n      navigate('/bank-page');\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) {\r\n        setError(\"Username is wrong\");\r\n      }else if(error.response && error.response.status === 403){\r\n        setError(\"Password is wrong\");\r\n      } else {\r\n        setError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const handleSignUp = () => {\r\n    // Redirect to the signup page\r\n    navigate('/sign-up');\r\n  };\r\n  return (\r\n    <div className={styles.rightSide}>\r\n      <div className={styles.rightSideLoginWrapper}>\r\n        <div>\r\n        <h1 className={styles.title}>Sign in with password</h1>\r\n        <div>\r\n          <input placeholder='Username' type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n          <input placeholder='Password' type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n        </div>\r\n        <button\r\n          className={`${styles.formButton} ${isFormValid ? styles.formButtonActive : ''}`}\r\n          onClick={handleLogin}\r\n          disabled={!isFormValid}\r\n        >\r\n          Log in\r\n        </button>        {/* <button onClick={handleSignUp}>Sign up</button> */}\r\n        {error && <p className={styles.errorMessage}>{error}</p>}\r\n      </div>\r\n      \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSideLogin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}