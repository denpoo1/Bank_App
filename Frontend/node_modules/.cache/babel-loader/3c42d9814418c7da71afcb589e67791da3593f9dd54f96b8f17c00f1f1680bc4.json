{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0418\\u043B\\u044C\\u044F/Desktop/Bank_App/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import styles from\"./Currency.module.css\";import Wrap from\"../Wrap/Wrap\";import uaIcon from\"../images/currencyFlags/ua.png\";import usdIcon from\"../images/currencyFlags/usd.png\";import gbpIcon from\"../images/currencyFlags/gbp.png\";import plnIcon from\"../images/currencyFlags/pln.png\";import axios from\"axios\";import Cookies from\"js-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Currency=function Currency(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),exchangeRates=_useState2[0],setExchangeRates=_useState2[1];useEffect(function(){var tokenFromCookie=Cookies.get(\"token\");if(tokenFromCookie){axios.get(\"http://localhost:8080/exchange-rates/latest/eur\",{headers:{Authorization:\"Bearer \".concat(tokenFromCookie)}}).then(function(response){// Получаем объект с обменными курсами\nvar conversionRates=response.data.conversion_rates;setExchangeRates(conversionRates);}).catch(function(error){console.error(\"Error fetching exchange rates:\",error);});}},[]);var filteredCurrencies=[\"USD\",\"UAH\",\"GBP\",\"PLN\"];return/*#__PURE__*/_jsxs(Wrap,{className:styles.currenceWrapper,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Currency\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.currencyList,children:exchangeRates?filteredCurrencies.map(function(currency){return/*#__PURE__*/_jsxs(\"div\",{className:styles.currencyRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.currencyIconAndName,children:[currency===\"USD\"&&/*#__PURE__*/_jsx(\"img\",{alt:\"USD Icon\",src:usdIcon}),currency===\"UAH\"&&/*#__PURE__*/_jsx(\"img\",{alt:\"UA Icon\",src:uaIcon}),currency===\"GBP\"&&/*#__PURE__*/_jsx(\"img\",{alt:\"GBP Icon\",src:gbpIcon}),currency===\"PLN\"&&/*#__PURE__*/_jsx(\"img\",{alt:\"PLN Icon\",src:plnIcon}),/*#__PURE__*/_jsx(\"span\",{className:styles.currencyName,children:currency})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.currencyAmount,children:/*#__PURE__*/_jsx(\"span\",{children:exchangeRates[currency]})})]},currency);}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})})]});};export default Currency;","map":{"version":3,"names":["React","useEffect","useState","styles","Wrap","uaIcon","usdIcon","gbpIcon","plnIcon","axios","Cookies","jsx","_jsx","jsxs","_jsxs","Currency","_useState","_useState2","_slicedToArray","exchangeRates","setExchangeRates","tokenFromCookie","get","headers","Authorization","concat","then","response","conversionRates","data","conversion_rates","catch","error","console","filteredCurrencies","className","currenceWrapper","children","currencyList","map","currency","currencyRow","currencyIconAndName","alt","src","currencyName","currencyAmount"],"sources":["C:/Users/Илья/Desktop/Bank_App/Frontend/src/Currency/Currency.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styles from \"./Currency.module.css\";\r\nimport Wrap from \"../Wrap/Wrap\";\r\nimport uaIcon from \"../images/currencyFlags/ua.png\";\r\nimport usdIcon from \"../images/currencyFlags/usd.png\";\r\nimport gbpIcon from \"../images/currencyFlags/gbp.png\";\r\nimport plnIcon from \"../images/currencyFlags/pln.png\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst Currency = () => {\r\n  const [exchangeRates, setExchangeRates] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const tokenFromCookie = Cookies.get(\"token\");\r\n\r\n    if (tokenFromCookie) {\r\n      axios\r\n        .get(\"http://localhost:8080/exchange-rates/latest/eur\", {\r\n          headers: {\r\n            Authorization: `Bearer ${tokenFromCookie}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          // Получаем объект с обменными курсами\r\n          const conversionRates = response.data.conversion_rates;\r\n          setExchangeRates(conversionRates);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching exchange rates:\", error);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const filteredCurrencies = [\"USD\", \"UAH\", \"GBP\", \"PLN\"];\r\n\r\n  return (\r\n    <Wrap className={styles.currenceWrapper}>\r\n      <h1>Currency</h1>\r\n      <div className={styles.currencyList}>\r\n        {exchangeRates ? (\r\n          filteredCurrencies.map((currency) => (\r\n            <div key={currency} className={styles.currencyRow}>\r\n              <div className={styles.currencyIconAndName}>\r\n                {currency === \"USD\" && <img alt=\"USD Icon\" src={usdIcon} />}\r\n                {currency === \"UAH\" && <img alt=\"UA Icon\" src={uaIcon} />}\r\n                {currency === \"GBP\" && <img alt=\"GBP Icon\" src={gbpIcon} />}\r\n                {currency === \"PLN\" && <img alt=\"PLN Icon\" src={plnIcon} />}\r\n                <span className={styles.currencyName}>{currency}</span>\r\n              </div>\r\n              <div className={styles.currencyAmount}>\r\n                <span>{exchangeRates[currency]}</span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>Loading...</p>\r\n        )}\r\n      </div>\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default Currency;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}